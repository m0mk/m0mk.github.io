<!DOCTYPE html>
<HTML>
	<HEAD>
    <meta charset="utf-8">
    <meta http-equiv="refresh" content="3600" id="metaRefresh">    
		<TITLE>Getting Ready
		</TITLE>
		<STYLE>
		body {
		  font-family: Sans-Serif;
		}
    #refresh{
      cursor: pointer;
    }
		.cell3d {
      border-style: outset;
      border-width: 1px;
      border-color: silver;
      background-color: ghostwhite; /* lightblue; */
		}
		html {zoom: 125%;}
		</STYLE>
		<script language="JavaScript" src="http://www.geoplugin.net/javascript.gp" type="text/javascript"></script>
		<script language="JavaScript">
		/* grab_ComicRSS.js */
      function pullComic(myDiv,comic,height,days=55) {
        document.getElementById(myDiv).innerHTML
          ='<div id="widgetmain" style="text-align:left;overflow-y:auto;overflow-x:hidden;width:950px;background-color:#transparent; border:0px solid #333333;"><div id="rsswidget" '
          + ' style="height:' + height
          + 'px;"><iframe src="http://us1.rssfeedwidget.com/getrss.php?time=1596929274508&amp;x=https%3A%2F%2Fwww.comicsrss.com%2Frss%2F'
          + comic + '.rss&amp;w=950&amp;'
          + 'h=' + (height+0)
          + '&amp;bc=333333&amp;bw=0&amp;bgc=transparent&amp;m='+ days +'&amp;it=true&amp;t=(default)&amp;tc=CC5014&amp;ts=16&amp;tb=transparent&amp;il=true&amp;'
          + 'lc=0000FF&amp;ls=14&amp;lb=false&amp;id=true&amp;dc=4BC93C&amp;ds=14&amp;idt=false&amp;dtc=9E42A8&amp;dts=12" border="0" hspace="0" vspace="0" frameborder="no" '
          + ' marginwidth="0" marginheight="0" style="border:0; padding:0; margin:0; width:950px;'
          + ' height:' + height
          + 'px;" id="rssOutput">Reading RSS Feed ...</iframe></div><div style="text-align:right;margin-bottom:0;border-top:0px solid #333333;"'
          + ' id="widgetbottom"><span style="font-size:70%"><a href="http://www.rssfeedwidget.com">rss feed widget</a>&nbsp;</span><br></div></div>'
      }
		</script>
		<script language="JavaScript">
      /* grab_DateTime.js */
			/*
			  Author:		Robert Hashemian (http://www.hashemian.com/)
			  Modified by:	Munsifali Rashid (http://www.munit.co.uk/)
			  Modified by:	Tilesh Khatri
			  See here: https://www.hashemian.com/tools/javascript-countdown.htm
			*/
			
			function StartCountDown(myDiv,myTargetDate, dFormat)
			{
			  var dthen	= new Date(myTargetDate);
			  var dnow	= new Date();
			  ddiff		= new Date(dthen-dnow);
			  gsecs		= Math.floor(ddiff.valueOf()/1000);
			  CountBack(myDiv,gsecs, dFormat);
			}
			
			function Calcage(secs, num1, num2)
			{
			  s = ((Math.floor(secs/num1))%num2).toString();
			  if (s.length < 2) 
			  {	
				s = "0" + s;
			  }
			  return (s);
			}
			
			function refreshClock(myDiv)
			{
			  var dnow	= new Date();

			  document.getElementById(myDiv).innerHTML =  dnow;

			  setTimeout("refreshClock('" + myDiv + "');",990);
			}
			function CountBack(myDiv, secs, dFormat)
			{
			  var DisplayStr;
			  var DisplayFormat = (typeof dFormat === 'undefined' ? "%%D%% Days, %%H%%:%%M%%:%%S%%" : dFormat);
			 
			  DisplayStr = DisplayFormat;

				if (Calcage(secs,86400,100000) != 0)
				  DisplayStr = DisplayStr.replace(/%%D%%/g, "".concat(Calcage(secs,86400,100000)) );
				else {
				  DisplayStr = DisplayStr.replace(/%%D%%/g, "");
				  DisplayStr = DisplayStr.replace(/Days, /g, "");
				}

			  DisplayStr = DisplayStr.replace(/%%D%%/g,	Calcage(secs,86400,100000));
			  
			  DisplayStr = DisplayStr.replace(/%%H%%/g,		Calcage(secs,3600,24));
			  DisplayStr = DisplayStr.replace(/%%M%%/g,		Calcage(secs,60,60));
			  DisplayStr = DisplayStr.replace(/%%S%%/g,		Calcage(secs,1,60));
			  if(secs > 0)
			  {	
				document.getElementById(myDiv).innerHTML = DisplayStr;
				if (typeof dFormat === 'undefined') {
					setTimeout("CountBack('" + myDiv + "'," + (secs-1) + ");", 990);
				} else {
					setTimeout("CountBack('" + myDiv + "'," + (secs-1) + "," + '"' + dFormat + '"' + ");", 990);
				}
			  }
			  else
			  {
				document.getElementById(myDiv).innerHTML = "Time's Up!";
			  }
			}
			
			function endOfMonth(date) {
			// https://www.w3resource.com/javascript-exercises/javascript-date-exercise-53.php
        return new Date(date.getFullYear(), date.getMonth() + 1, 0);
      }
			
		</script>
	</HEAD>
<BODY>
<font style="font-family: sans-serif;">
<table border=0>
  <tr valign="top">
    <td valign="top">
      <table width="100%" height="47%" border="0">
        <tr valign="top">
          <td class="cell3d">
          <center>Welcome/Ø£Ù‡Ù„Ø§Ù‹<br><small><small><span id="NowBox">_NowBox<script lang="javascript">refreshClock("NowBox");</script></span></small></small></center>
          </td>
        </tr>
        <tr valign="top">
        <td width="50%" class="cell3d">
          <center>
          <big>
          <big>          
          You have<br>
          <big>
          <big>
          <big><big>
            <div id="clock1">[clock1]</div>
            <script lang="javascript">
              var today	= new Date();
              
              //Extract the date and Format it to YYYY/MM/DD
              var year = today.getFullYear();

              // if the month is less than 10, add leading 0; value is ZERO based
              var month = ((today.getMonth() + 1) < 10 ? '0' : '')
                          + (today.getMonth() + 1) ;  

              // if the day is less than 10, add leading 0; value is NON-zero based
              var day = ((today.getDate()) < 10 ? '0' : '')
                          + (today.getDate()) ;   

              var todaysEnd = month + '/' + day + '/'+ year + " 11:00 PM";
              StartCountDown("clock1",todaysEnd)// -0400")
            </script>
          </big></big>
          </big>
          </big>
          Left before end of day
          </big>
          </big>
          </center>
        </td>
          </tr>
          <tr>
          <td class="cell3d">
			<div id="coords">
			</div> 	
			<div id="prayers">
			@Prayers
			</div>

			<script type="text/javascript" src="http://praytimes.org/code/v2/js/PrayTimes.js"></script>
			<!-- script type="text/javascript" src="PrayTimes.js"></script -->
			<script>
			var xLat	= 0;
			var xLong	= 0;
			
			var x = document.getElementById("coords");
			
			function initPrayerTimes(_lat,_long) {
					prayTimes.setMethod('ISNA');
					var pTimes = prayTimes.getTimes(new Date(), [_lat, _long]) // -7;
					var prayersBox = document.getElementById("prayers");
					prayersBox.innerHTML = "<table width='100%'><tr>" +						
						"<td>Fajr<td>"		+ pTimes.fajr	+ "<tr>" +
						"<td>Sunrise<td>"	+ pTimes.sunrise+ "<tr>" +
						"<td>Dhuhr<td>"		+ pTimes.dhuhr	+ "<tr>" +
						"<td>3asr<td>"		+ pTimes.asr	+ "<tr>" +
						"<td>Maghrib<td>"	+ pTimes.maghrib+ "<tr>" +
						"<td>3isha'<td>"	+ pTimes.isha	+ "</table>";
		
			}
			
			initPrayerTimes(
				geoplugin_latitude(),
				geoplugin_longitude());

			function getLocation() {
			  if (navigator.geolocation) {
				navigator.geolocation.getCurrentPosition(showPosition);
			  } else {
				x.innerHTML = "Geolocation is not supported by this browser.";
			  }
			}

			function showPosition(position) {
			  x.innerHTML = "ðŸŒŽ";/*"Latitude: " + position.coords.latitude +
			  "<br>Longitude: " + position.coords.longitude;*/
				initPrayerTimes(position.coords.latitude,position.coords.longitude);
			}
			
			function appendLeadingZeroes(n){
        if(n <= 9){
          return "0" + n;
        }
        return n
      }

			</script>
			
			<script>

			// http://praytimes.org/manual/
			getLocation()


			//showPosition()

			</script>
			

			
          </td>
          </tr>
          <tr>
        <td class="cell3d">
          <center>
          <big>
          <big>
          You have<br>
          <big>
          <big>
          <big><big>
            <div id="clock2">[clock2]</div>
            <script lang="javascript">
              dt = endOfMonth(new Date());
              
              StartCountDown("clock2",
                dt.getFullYear() 
                + "-" 
                + appendLeadingZeroes(dt.getMonth()+1)
                + "-"
                + appendLeadingZeroes(dt.getDate())
                + " 23:59:59","%%D%% Days...")// -0400")
            </script>
          </big></big>
          </big>
          </big>
          Left before end of the month
          </big>
          </big>
          </center>
        </td>
        </tr>
        <tr>
          <td class="cell3d">
            <i>Shortcuts</i>
            <ul>
              <li><a href="https://bit.ly/scriptlets">scriptlets</a>&vert;<a href="https://bit.ly/qqScripsXL">â–¶</a>
              <li><a href="https://bit.ly/mk-prayerlog">mk-prayerlog</a>
              <li><a href="http://raw.githack.com/m0mk/m0mk.github.io/master/index.html">grabgist (main)</a>&vert;<a href="https://bit.ly/grabgist">(fork?)</a>
              <li><a href="https://github.dev/m0mk/m0mk.github.io/tree/dev">Editor</a> &vert;<a href="http://rawcdn.githack.com/m0mk/m0mk.github.io/80bf4fda5568c908b11875ea153fbd172540875f/index.html">This!</a>
              <li><a href="https://to-do.live.com/tasks/AQMkADAwATNiZmYAZC05YWEAOS00NWU4LTAwAi0wMAoALgAAA5tfs3ybhbtHhQhAEJS47MIBAM-DtqMlpwdCrxu0I5jh5AUAAxoF9QcAAAA=">Todo</a>
              <li><a id="refresh" onClick="window.location.reload();" style="color :blue"><u>Refresh Page</u></button>
            </ul>
          </td>
        </tr>
        <tr valign="top">
          <td class="cell3d"><small><i>$VER:</i><span id="$VER:">[027]</span></small>
          </td>
        </tr>
        <tr>
          <td>
                  <!-- <div><i>Todo list may show up here eventually</i> -->
                    <!-- iframe src="https://to-do.live.com/tasks/AQMkADAwATNiZmYAZC05YWEAOS00NWU4LTAwAi0wMAoALgAAA5tfs3ybhbtHhQhAEJS47MIBAM-DtqMlpwdCrxu0I5jh5AUAAxoF9QcAAAA=">
                      todo list
                    </iframe -->
                  </div>
          </td>
        </tr>
        </table>
    </td>
    <td>
      <table border="0"> <!-- this empty table container is a mere kludge to align cellpadding/cellspacing between the left column and this right column of the page -->
        <tr>
          <td class="cell3d">
            <div id="widgetPeanuts"></div>
            <div id="widgetGarfield"></div>
            <div id="widgetCalvin"></div>
            <!-- div id="widgetDilbert"></div -->
            <script lang="JavaScript">
              pullComic("widgetPeanuts","peanuts",210)//240
              pullComic("widgetGarfield","garfield",250)//310
              pullComic("widgetCalvin","calvinandhobbes",265)//335
              //pullComic("widgetDilbert","dilbert",265)//330
            </script>
          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
</font>
</BODY>
</HTML>
